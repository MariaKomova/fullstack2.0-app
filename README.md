–ü—Ä–æ–µ–∫—Ç "Full-Stack API Service"

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—ã–π —Å—Ç–µ–∫, –∑–∞–ø—É—â–µ–Ω–Ω—ã–π —Å –ø–æ–º–æ—â—å—é Docker Compose, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Ç—Ä–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤: Nginx (Frontend/Proxy), Flask (Backend/API) –∏ PostgreSQL (Database).

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

Frontend/Proxy: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä frontend (Nginx) –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–µ—Ç –ø–æ—Ä—Ç 80, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –∏ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã API –Ω–∞ –±—ç–∫–µ–Ω–¥ (–ø–æ—Ä—Ç 8000).

Backend/API: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä backend (Python/Flask) —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫—É CRUD (Create, Read, Update, Delete) –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

Database: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä db (PostgreSQL) —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Å–∫—Ä–∏–ø—Ç–∞ ./db/init.sql.

–ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

1. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ Docker –∏ Docker Compose.

2. –ó–∞–ø—É—Å–∫ —Å—Ç–µ–∫–∞

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –¥–ª—è —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–æ–≤, –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ –∏—Ö —Ä–∞–±–æ—Ç—ã –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ:

docker-compose up -d --build


(–§–ª–∞–≥ --build –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä backend –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∞–º—É—é —Å–≤–µ–∂—É—é –≤–µ—Ä—Å–∏—é –∫–æ–¥–∞.)

3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∑–∞–ø—É—â–µ–Ω—ã:

docker-compose ps


4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API (Smoke Test)

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞, API –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É http://localhost.

–ú–µ—Ç–æ–¥

–ö–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞

–û–ø–∏—Å–∞–Ω–∏–µ

–ö–æ–º–∞–Ω–¥–∞

POST

/items

–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞.

curl -X POST http://localhost/items -H "Content-Type: application/json" -d '{"name": "Test Item", "description": "This works."}'

GET

/items

–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.

curl http://localhost/items

GET

/items/{id}

–ü–æ–ª—É—á–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ ID.

curl http://localhost/items/1

PUT

/items/{id}

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞.

curl -X PUT http://localhost/items/1 -H "Content-Type: application/json" -d '{"description": "Updated description"}'

DELETE

/items/{id}

–£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞.

curl -X DELETE http://localhost/items/1

–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–∏—Å–ø—Ä–∞–≤–Ω–æ—Å—Ç–µ–π

–û—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ë–î (FATAL): –ü—Ä–æ–∏–∑–æ—à–ª–æ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø–∞—Ä–æ–ª–µ–π. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å, —á—Ç–æ–±—ã —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π —Ç–æ–º –ë–î: docker-compose down -v.

–û—à–∏–±–∫–∞ 405/502: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ frontend/nginx.conf –Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–∞ (8000) –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ (GET|POST|PUT|DELETE|OPTIONS).

.

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–î–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å—Ç–µ–∫ observability:
- Grafana: http://localhost:3000 (admin/admin123)
- Prometheus: http://localhost:9090
- Loki: http://localhost:3100

–ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: http://localhost:8000/metrics
